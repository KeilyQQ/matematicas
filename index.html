<!DOCTYPE html>
<html>
<head>
  <title>Sistema de Desigualdades Lineales</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <h2>Sistema de Desigualdades Lineales</h2>
  <p>Graficando:</p>
  <ul>
    <li>x + y ≤ 7</li>
    <li>x - y ≥ 1</li>
    <li>x ≥ 0</li>
  </ul>

  <div id="grafico" style="width:100%; max-width:700px; height:500px;"></div>

  <script>
    const x = [];
    const y1 = [];
    const y2 = [];

    for (let i = 0; i <= 10; i += 0.1) {
      x.push(i);
      y1.push(7 - i);     // de x + y ≤ 7 → y ≤ 7 - x
      y2.push(i - 1);     // de x - y ≥ 1 → y ≤ x - 1
    }

    const yMin = y1.map((y, i) => Math.min(y, y2[i]));

    const trazo1 = {
      x: x,
      y: y1,
      mode: "lines",
      name: "x + y = 7",
      line: { color: "blue" }
    };

    const trazo2 = {
      x: x,
      y: y2,
      mode: "lines",
      name: "x - y = 1",
      line: { color: "red" }
    };

    const region = {
      x: [...x, ...x.reverse()],
      y: [...yMin, ...Array(x.length).fill(-10)],
      fill: "toself",
      fillcolor: "rgba(0, 255, 0, 0.2)",
      line: { color: "transparent" },
      name: "Región solución",
      type: "scatter"
    };

    const layout = {
      title: "Sistema: x + y ≤ 7 ; x - y ≥ 1 ; x ≥ 0",
      xaxis: { range: [0, 10], title: "x" },
      yaxis: { range: [-5, 10], title: "y" },
      showlegend: true
    };

    Plotly.newPlot("grafico", [region, trazo1, trazo2], layout);
  </script>
</body>
</html>
